<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clima</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"
    />
    <link href="css/style.css" rel="stylesheet" />
  </head>
  <body>
    <div
      class="bg container-fluid min-vh-100 p-0 d-flex flex-column justify-content-center align-items-center"
    >
      <div
        class="card mb-5 shadow-lg bg-light"
        style="width: 22rem"
      >
        <div class="card-body">
          <form class="mt-4" action="/clima" method="post">
            <input
              type="text"
              class="form-control mb-5"
              id="nome"
              name="nome"
              placeholder="Nome ou apelido"
            />
            <button
              id="entrar"
              type="submit"
              class="btn btn-success btn-lg w-100"
            >
              Entrar
            </button>
          </form>
        </div>
      </div>
      <div>
        <% if(validacao.length > 0) { %>
        <div class="row">
          <div class="col-md-12">
            <div class="alert alert-danger">
              <strong>ATENÇÃO!</strong>
              <ul class="mt-2">
                <% for(var i=0; i < validacao.length; i++) { %>
                <li><%= validacao[i].msg %></li>
                <% } %>
              </ul>
            </div>
          </div>
        </div>
        <% } %>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <!-- <script>
      const servidor = "http://localhost:3000";
      const socket = io(servidor);

      $("#enviar_mensagem").click(() => {
        socket.emit("msgParaServidor", {
          apelido: $("#apelido").val(),
          mensagem: $("mensagem").val(),
        });

        let fieldMessage = document.querySelector('#mensagem');
				fieldMessage.value = '';
      });

      socket.on("msgParaCliente", (data) => {
        let html = "";
        html += '<div class="dialogo">';
        html += "<h4>" + data.apelido + "</h4>";
        html += "<p>" + data.mensagem + "</p>";
        html += "</div>";

        $("#dialogos").append(html);
      });
    </script> -->
  </body>
</html>
